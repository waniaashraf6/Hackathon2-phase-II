# Data Model: Backend Foundation & Persistence

**Feature**: 001-backend-foundation
**Date**: 2025-12-22

## Task Entity

### Fields
- **id** (Integer, Primary Key, Auto-increment)
  - Unique identifier for each task
  - Auto-generated by the database
- **title** (String, max length 255, Required)
  - The title or name of the task
  - Must be provided when creating a task
- **description** (Text, Optional)
  - Detailed description of the task
  - Can be null or empty
- **is_completed** (Boolean, Default: False)
  - Indicates whether the task has been completed
  - Default value is False when creating a new task
- **created_at** (DateTime, Auto-generated)
  - Timestamp when the task was created
  - Automatically set when the record is first created
- **updated_at** (DateTime, Auto-generated)
  - Timestamp when the task was last updated
  - Automatically updated when the record is modified

### Validation Rules
- Title must not be empty or null
- Title must be between 1 and 255 characters
- Description, if provided, should be reasonable length (e.g., max 1000 characters)

### State Transitions
- **Created**: When a new task is added, `is_completed` is False by default
- **Updated**: When a task is modified, `updated_at` is automatically updated
- **Completed**: When `is_completed` is set to True, the task status changes to completed
- **Reopened**: When `is_completed` is set back to False, the task is reopened

## Database Session Entity

### Purpose
- Manages the connection between the application and the Neon PostgreSQL database
- Handles transaction management and connection pooling
- Provides a consistent interface for database operations

### Characteristics
- Uses SQLModel's built-in session management
- Implements connection pooling for performance
- Thread-safe for concurrent requests
- Automatically handles connection lifecycle

## API Contract Models

### TaskCreate
- **title** (String, Required)
- **description** (String, Optional)

### TaskRead
- **id** (Integer)
- **title** (String)
- **description** (String)
- **is_completed** (Boolean)
- **created_at** (DateTime)
- **updated_at** (DateTime)

### TaskUpdate
- **title** (String, Optional)
- **description** (String, Optional)
- **is_completed** (Boolean, Optional)

### ErrorResponse
- **detail** (String)
- **error_code** (String, Optional)